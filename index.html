<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Realtime</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/slate.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/dracula.min.css" />
    <!-- <link rel="stylesheet" href="plugin/highlight/monokai.css" /> -->

    <link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
    <!-- <link href="https://unpkg.com/tailwindcss@^2.0.1/dist/tailwind.min.css" rel="stylesheet"> -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-transition="concave"
          data-background-image="images/tv-bg.svg"
          data-background-size="cover"
          data-background-repeat="no-repeat"
        >
          <div class="fixed top-0 bottom-0 left-0 right-0 -z-10 opacity-100">
            <iframe
              class="w-full h-full rounded-md"
              data-src="https://my.spline.design/untitled-a151ef718e67c82593102b32c8fe13a4/"
              data-preload
            ></iframe>

            <div class="absolute bottom-9 right-16 h-12 w-40 bg-slate-950 rounded-md"></div>
          </div>
          <div class="flex justify-center pointer-events-none">
            <img src="images/realtime-logo.svg" width="540" />
          </div>
          <h1 class="!text-3xl italic pointer-events-none">realtime collaboration with ease</h1>
          <div class="w-full flex items-center justify-center gap-4 mt-16 pointer-events-none">
            <div
              class="h-16 w-16 rounded-full overflow-hidden bg-[url('images/birkir.png')] bg-cover bg-center ring-2 ring-slate-800 ring-offset-2 ring-offset-slate-950"
            ></div>
            <div class="text-xl text-slate-500 flex flex-col items-start gap-0.5">
              <span class="font-bold">üëã Birkir √ñrn Karlsson</span>
              <span>üè¢ Slate co-founder & CPO</span>
            </div>
          </div>

          <aside class="notes"></aside>
        </section>

        <section
          data-background-image="images/tv-bg.svg"
          data-background-size="cover"
          data-background-repeat="no-repeat"
        >
          <section>
            <h2 class="r-fit-text">Realtime as a service</h2>
          </section>
          <section>
            <div class="w-full flex justify-between items-end">
              <img src="images/avatars.png" width="160" />
              <img src="images/cursor.png" width="120" />
            </div>
            <h2 class="r-fit-text !mb-20">Users today are used to the realtime experience</h2>
            <div class="flex items-center justify-center gap-20">
              <img src="images/figma.svg" width="100" />
              <img src="images/notion.svg" width="100" />
              <img src="images/google-docs.svg" width="100" />
              <img src="images/slate-icon.svg" width="100" />
            </div>

            <aside class="notes"></aside>
          </section>
          <section>
            <div class="r-stretch">
              <div class="r-stack w-full h-full flex justify-center">
                <img class="rounded-md" src="images/scott-meme.jpg" width="640" />
                <img class="fragment rounded-md" src="images/jim-meme.jpg" width="540" />
              </div>
            </div>

            <aside class="notes"></aside>
          </section>
          <section>
            <p class="r-fit-text">
              Figma's
              <a
                href="https://www.figma.com/blog/how-figmas-multiplayer-technology-works/"
                target="_blank"
              >
                blog post
              </a>
              on multiplayer functionality
            </p>
            <div class="w-full flex justify-center mt-8">
              <video
                data-autoplay
                loop
                width="400"
                src="https://cdn.sanity.io/files/599r6htc/localized/74aa5f68d0393aec0399e321101a9412c0828ea0.mp4"
              ></video>
            </div>

            <aside class="notes"></aside>
          </section>
        </section>
        <section
          data-background-image="images/tv-bg.svg"
          data-background-size="cover"
          data-background-repeat="no-repeat"
        >
          <section>
            <h2 class="r-fit-text">Examples</h2>
          </section>
          <section>
            <div class="my-5 flex flex-col items-center">
              <h2 class="!text-2xl !m-0"><strong>Example:</strong> Todo App</h2>
              <a
                href="https://realtime-examples-todo.vercel.app"
                target="_blank"
                class="!text-lg !m-0 !text-slate-500"
                >realtime-examples-todo.vercel.app</a
              >
            </div>
            <div class="flex gap-5 r-stretch">
              <iframe
                data-src="https://realtime-examples-todo.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
              <iframe
                data-src="https://realtime-examples-todo.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
            </div>

            <aside class="notes"></aside>
          </section>
          <section>
            <div class="my-5 flex flex-col items-center">
              <h2 class="!text-2xl !m-0"><strong>Example:</strong> Canvas Boxes</h2>
              <a
                href="https://realtime-examples-canvas.vercel.app"
                target="_blank"
                class="!text-lg !m-0 !text-slate-500"
                >realtime-examples-canvas.vercel.app</a
              >
            </div>
            <div class="flex gap-5 r-stretch">
              <iframe
                data-src="https://realtime-examples-canvas.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
              <iframe
                data-src="https://realtime-examples-canvas.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
            </div>

            <aside class="notes"></aside>
          </section>
          <section>
            <div class="my-5 flex flex-col items-center">
              <h2 class="!text-2xl !m-0"><strong>Example:</strong> Block Editor</h2>
              <a
                href="https://realtime-examples-block-editor.vercel.app"
                target="_blank"
                class="!text-lg !m-0 !text-slate-500"
                >realtime-examples-block-editor.vercel.app</a
              >
            </div>
            <div class="flex gap-5 r-stretch">
              <iframe
                data-src="https://realtime-examples-block-editor.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
              <iframe
                data-src="https://realtime-examples-block-editor.vercel.app"
                data-preload
                class="w-full rounded-md shadow-[0_16px_40px_rgba(236,72,153,0.4)]"
              ></iframe>
            </div>

            <aside class="notes"></aside>
          </section>
          <section>
            <h2 class="!text-5xl">
              Simple <span class="text-slate-500">yet very powerful</span> hooks
            </h2>
            <div>
              <code class="!text-slate-500 text-2xl">
                { typeof <span class="text-pink-500">YourData</span> ==
                <span class="text-emerald-500">JSON</span> ? ‚úÖ(üî•) : ‚ùé }
              </code>
            </div>
            <div class="h-3"></div>
            <pre>
							<code data-trim data-line-numbers="2" class="language-tsx rounded-md">
// [{ label: 'Find out what "goon" means', checked: false }]
const todos = useStore((root) => root.todos)
              </code>
            </pre>
            <pre>
              <code data-trim data-line-numbers="3-7" class="language-tsx rounded-md">
const patch = usePatch()

patch((root) => {
  root.todos.push({
    label: 'Take the cat out for a walk',
  })
})
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
        </section>
        <section
          data-background-image="images/tv-bg.svg"
          data-background-size="cover"
          data-background-repeat="no-repeat"
        >
          <section>
            <h2 class="r-fit-text">How to realtime</h2>
          </section>
          <section data-auto-animate>
            <h3 class="!text-5xl !text-slate-500 !mb-1.5">Getting started</h3>
            <h2 class="r-fit-text">
              Create an
              <a href="https://inrealtime.app/" target="_blank">inrealtime.app</a>
              project
            </h2>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-5xl !text-slate-500 !mb-1.5">Getting started</h3>
            <h2 class="r-fit-text">
              Install the
              <a href="https://www.npmjs.com/package/@inrealtime/react" target="_blank"
                >@inrealtime/react</a
              >
              package
            </h2>
            <pre>
							<code data-trim class="language-powershell rounded-md">
								yarn add @inrealtime/react
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-3xl !text-slate-500">Getting started</h3>
            <h2 class="!text-5xl">Setup a <strong>realtime.config.ts</strong> file</h2>
            <pre>
							<code data-trim data-line-numbers="1|19-22|3-4" class="language-tsx rounded-md">
import { createRealtimeContext } from '@inrealtime/react'

type Document = { items: TodoItem[] }
type Presence = { cursor: { x: number; y: number } }

export const {
  useRealtimeContext,
  useConnectionStatus,
  usePresenceStatus,
  useDocumentStatus,
  useSubscribe,
  useCollaborators,
  useSubscribeCollaborators,
  useMe,
  usePatchMe,
  useSubscribeMe,
  useBroadcast,
  useBroadcastListener,
  useStore,
  usePatch,
  RealtimeProvider,
} = createRealtimeContext&#x003C;Document, Presence&#x003E;()
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-3xl !text-slate-500">Getting started</h3>
            <h2 class="!text-5xl">
              Wrap in <strong>RealtimeProvider</strong> & add <strong>Auth Key</strong>
            </h2>
            <pre>
							<code data-trim data-line-numbers="11-13,15,17|3-7,14" class="language-tsx rounded-md">
import { RealtimeProvider } from 'realtime.config'

const getAuthToken = useCallback(async () => {
  const accessTokenResponse = await getAuthTokenFromMyAPI()

  return (await accessTokenResponse.json()).token
}, [])

const App = () => {
  return (
    &#x003C;RealtimeProvider
      documentId="myDocumentId"
      publicAuthKey={REALTIME_PUBLIC_AUTH_KEY}
      getAuthToken={getAuthToken}
    &#x003E;
      {/* App content */}
    &#x003C;/RealtimeProvider&#x003E;
  )
}
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-3xl !text-slate-500 !mb-1.5">Usage</h3>
            <h2 class="!text-5xl">Status</h2>
            <pre>
							<code data-trim data-line-numbers="3-10" class="language-tsx rounded-md">
import { ... } from 'realtime.config'
                
// Closed | Connecting | Authenticating | Open
const connectionStatus = useConnectionStatus()
                
// Unready | Ready
const presenceStatus = usePresenceStatus()

// Unready | Ready
const documentStatus = useDocumentStatus()
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-3xl !text-slate-500 !mb-1.5">Usage</h3>
            <h2 class="!text-5xl !mb-1.5">Data</h2>
            <span class="!font-mono !text-xl">
              <strong>useStore() & usePatch()</strong>
            </span>
            <pre>
							<code data-trim data-line-numbers="3-7|9,12-18|22-31" class="language-tsx rounded-md">
import { ... } from 'realtime.config'

const title = useStore((root) => root.title)

const incompletedItems = useStore((root) => {
  return root.items?.filter((item) => !item.isCompleted))
})

const patch = usePatch()

const addItem = () => {
  patch((root) => {
    root.items.push({
      id: uuidv4(),
      title: workingTitle,
      isComplete: false,
    })
  })
}

const removeItem = () => {
  patch((root) => {
   const found = findProperty(root)
    if (!found) {
      return
    }

    const { property: foundProperty, parent } = found
    const propertyIndex = parent.properties.indexOf(foundProperty)
    parent.properties.splice(propertyIndex, 1)
  })
}
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-auto-animate>
            <h3 class="!text-3xl !text-slate-500 !mb-1.5">Usage</h3>
            <h2 class="!text-5xl !mb-0.5">Presence</h2>
            <span class="!font-mono !text-xl">
              <strong>useCollaborators(), useMe() & usePatchMe()</strong>
            </span>
            <pre>
							<code data-trim data-line-numbers="3-17|20,29-30,32|22,24-26,29-32" class="language-tsx rounded-md">
import { ... } from 'realtime.config'

const Cursors = () => {
  const collaborators = useCollaborators()

  return (
    &#x003C;div&#x003E;
      {collaborators.map((collaborator) =&#x003E; (
        &#x003C;Cursor
          key={collaborator.clientId}
          position={collaborator.data.cursor}
          name={collaborator.metadata.name}
        /&#x003E;
      ))}
    &#x003C;/div&#x003E;
  )
}

const Profile = () => {
  const myName = useMe((me) => me.name)

  const patchMe = usePatchMe()

  const onChangeName = (name: string) => {
    patchMe({ name })
  }

  return (
    &#x003C;input 
      value={myName}
      onChange={(e) =&#x003E; onChangeName(e.target.value)}
    /&#x003E;
  )
}
							</code>
						</pre>

            <aside class="notes"></aside>
          </section>
          <section data-transition="zoom">
            <img src="images/summary.png" class="r-stretch" />

            <aside class="notes"></aside>
          </section>
        </section>
        <section
          data-transition="concave"
          data-background-image="images/tv-bg.svg"
          data-background-size="cover"
          data-background-repeat="no-repeat"
        >
          <div class="flex flex-col items-center">
            <h2 class="!text-3xl">And that's it !</h2>
            <h3 class="!text-5xl"><strong>Any questions ?</strong></h3>
            <div class="r-stretch">
              <img class="rounded-md" src="images/questions.jpg" />
            </div>
          </div>

          <aside class="notes">
            <ul>
              <li>Thank you kindly</li>
            </ul>
          </aside>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      })
    </script>
  </body>
</html>
